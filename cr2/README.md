# Snapfood Crawler

## توضیحات پروژه

این پروژه یک **کراولر تخصصی برای اسنپ فود** است که اطلاعات رستوران‌ها و غذاها را از پلتفرم اسنپ فود استخراج می‌کند و آن‌ها را در فایل‌های JSON ذخیره می‌کند.

## ویژگی‌های اصلی

### 1. **کراول کردن اطلاعات اسنپ فود**
- استخراج اطلاعات کامل رستوران‌ها و منوی غذایی
- ذخیره‌سازی داده‌ها در فایل‌های JSON برای استفاده آسان
- پشتیبانی از چندین مختصات جغرافیایی (latitude, longitude)

### 2. **تاخیرهای تصادفی**
- استفاده از تاخیرهای تصادفی بین **60 تا 120 ثانیه** بین درخواست‌ها
- جلوگیری از مسدود شدن IP توسط سرور
- رفتار طبیعی‌تر و مشابه کاربر واقعی

### 3. **پشتیبانی از مختصات متعدد**
- امکان قرار دادن چندین مختصات جغرافیایی در فایل `.env`
- کراول کردن داده‌ها برای هر مختصات به‌صورت جداگانه
- ذخیره‌سازی نتایج برای هر موقعیت جغرافیایی

### 4. **کراول تا انتهای صفحات**
- پیمایش خودکار تا **آخرین صفحه** هر مختصات
- توقف خودکار هنگام رسیدن به **داده‌های خالی** (نتایجی وجود ندارد)
- عدم ذخیره‌سازی داده‌های خالی و نامعتبر
- بهینه‌سازی حجم فایل‌های خروجی

### 5. **طراحی برای استفاده بلندمدت**
- **تنظیم‌پذیری هدرهای HTTP**: پارامترهای درخواست قابل تنظیم برای سازگاری با تغییرات سرور
- **مدیریت خودکار خطاها**: بازآزمایی خودکار در صورت بروز خطا
- **پایایی بالا**: طراحی شده برای اجرای طولانی‌مدت بدون توقف
- **لاگ‌گذاری جامع**: ثبت تمام فعالیت‌ها برای نظارت و عیب‌یابی

## نحوه استفاده

### اجرای پروژه:
```python
py run.py
```

### تنظیم مختصات جغرافیایی

مختصات را در فایل `.env` تنظیم کنید:

- { "lat": 35.539, "lng": 51.120 },
- { "lat": 35.539, "lng": 51.130 },
- { "lat": 35.539, "lng": 51.140 },

## ساختار فایل‌های خروجی

داده‌های استخراج‌شده در فایل‌های JSON ذخیره می‌شوند:
```
data/
├── coordinates_37_51.json
├── coordinates_37_52.json
├── coordinates_35.715_51.404.json
└── ...
```

## نکات مهم

- **صبر و حوصله**: تاخیرهای تصادفی باعث می‌شود کراولر به‌آرامی کار کند (طبیعی‌تر و ایمن‌تر)
- **مانیتورینگ**: لاگ‌های پروژه را برای نظارت بر پیشرفت بررسی کنید
- **تنظیم هدرها**: در صورت نیاز، هدرهای HTTP را برای سازگاری با تغییرات سرور تنظیم کنید
- **بلندمدت**: این پروژه برای اجرای مداوم و طولانی‌مدت بهینه‌سازی شده است
